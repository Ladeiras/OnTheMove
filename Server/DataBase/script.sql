--ERROR 17002
----1. run cmd admin privileges
----2. lsnrctl start

drop table otm_aeroporto;
drop table otm_voo;
drop table otm_servico_telefone;
drop table otm_servico;
drop table otm_mapa;
drop table otm_loja;

--Tables--

create table otm_aeroporto(
  idaeroporto number generated by default on null as identity,
	pais varchar2(30) not null,
  cidade varchar2(30) not null,
  nome varchar2(50) not null,
  latitude decimal(9,6) not null,
  longitude decimal(9,6) not null
	);
  
create table otm_voo(
  idvoo number generated by default on null as identity,
  codigovoo number,
  codigocompanhia varchar2(10),
  partidaaeroportoid number,
  chegadaaeroportoid number,
  partidacidade varchar2(30),
  chegadacidade varchar2(30),
  partidatempoestimado date,
  chegadatempoestimado date,
  partidatemporeal date,
  chegadatemporeal date,
  terminal number,
  checkininicio date,
  checkinfim date,
  portaembarque number,
  embarque date,
  tapetebagagem number,
  bagagem date,
  portadesembarque number,
  desembarque date
);
  
create table otm_servico(
  idcontacto number generated by default on null as identity,
  idaeroporto number,
  nome varchar(50),
  titulo varchar(50),
  website varchar(50),
  webmail varchar(50),
  descricao varchar(50)
);

create table otm_servico_telefone(
  idtelefone number generated by default on null as identity,
  idservico number,
  contacto number
);

create table otm_mapa(
  idmapa number generated by default on null as identity,
  idservico number,
  localizacao varchar(50),
  url varchar(50)
);

create table otm_loja(
  idloja number generated by default on null as identity,
  idaeroporto number,
  categoria varchar(50),
  nome varchar(50),
  imagemurl varchar(300),
  mapaurl varchar(50),
  webmail varchar(50),
  website varchar(50),
  telefone number,
  descricao varchar(50),
  compromocao number,
  promocao varchar(50)
);


insert into otm_aeroporto(pais,cidade,nome,latitude,longitude) values('Portugal', 'Porto', 'Francisco Sá Carneiro', 41.248100, -8.681389);
insert into otm_aeroporto(pais,cidade,nome,latitude,longitude) values('Portugal', 'Lisboa', 'Portela', -12.808899, 15.7605);

insert into otm_voo(codigovoo,codigocompanhia,partidaaeroportoid,chegadaaeroportoid,partidacidade,chegadacidade,partidatempoestimado,chegadatempoestimado,partidatemporeal,chegadatemporeal,terminal,checkininicio,checkinfim,portaembarque,embarque,tapetebagagem,bagagem,portadesembarque,desembarque) values(10001, 'TAP', 1, 2, 'Porto', 'Lisboa', to_date('2014/05/04:13:35', 'yyyy/mm/dd:hh24:mi'), to_date('2014/05/04:14:35', 'yyyy/mm/dd:hh24:mi'), to_date('2014/05/04:13:30', 'yyyy/mm/dd:hh24:mi'), to_date('2014/05/04:14:30', 'yyyy/mm/dd:hh24:mi'),2, to_date('2014/05/04:12:45', 'yyyy/mm/dd:hh24:mi'),to_date('2014/05/04:13:05', 'yyyy/mm/dd:hh24:mi'),2,to_date('2014/05/04:13:15', 'yyyy/mm/dd:hh24:mi'),5,to_date('2014/05/04:14:45', 'yyyy/mm/dd:hh24:mi'),1,to_date('2014/05/04:13:40', 'yyyy/mm/dd:hh24:mi'));
insert into otm_voo(codigovoo,codigocompanhia,partidaaeroportoid,chegadaaeroportoid,partidacidade,chegadacidade,partidatempoestimado,chegadatempoestimado,partidatemporeal,chegadatemporeal,terminal,checkininicio,checkinfim,portaembarque,embarque,tapetebagagem,bagagem,portadesembarque,desembarque) values(10002, 'TAP', 1, 2, 'Porto', 'Lisboa', to_date('2014/05/04:14:35', 'yyyy/mm/dd:hh24:mi'), to_date('2014/05/04:15:35', 'yyyy/mm/dd:hh24:mi'), to_date('2014/05/04:14:30', 'yyyy/mm/dd:hh24:mi'), to_date('2014/05/04:15:30', 'yyyy/mm/dd:hh24:mi'),3, to_date('2014/05/04:13:45', 'yyyy/mm/dd:hh24:mi'),to_date('2014/05/04:13:10', 'yyyy/mm/dd:hh24:mi'),10,to_date('2014/05/04:13:05', 'yyyy/mm/dd:hh24:mi'),7,to_date('2014/05/04:14:50', 'yyyy/mm/dd:hh24:mi'),3,to_date('2014/05/04:14:35', 'yyyy/mm/dd:hh24:mi'));
insert into otm_voo(codigovoo,codigocompanhia,partidaaeroportoid,chegadaaeroportoid,partidacidade,chegadacidade,partidatempoestimado,chegadatempoestimado,partidatemporeal,chegadatemporeal,terminal,checkininicio,checkinfim,portaembarque,embarque,tapetebagagem,bagagem,portadesembarque,desembarque) values(10003, 'TAP', 2, 1, 'Lisboa', 'Porto', to_date('2014/05/04:14:35', 'yyyy/mm/dd:hh24:mi'), to_date('2014/05/04:15:35', 'yyyy/mm/dd:hh24:mi'), to_date('2014/05/04:14:30', 'yyyy/mm/dd:hh24:mi'), to_date('2014/05/04:15:30', 'yyyy/mm/dd:hh24:mi'),5, to_date('2014/05/04:13:45', 'yyyy/mm/dd:hh24:mi'),to_date('2014/05/04:13:10', 'yyyy/mm/dd:hh24:mi'),8,to_date('2014/05/04:13:05', 'yyyy/mm/dd:hh24:mi'),4,to_date('2014/05/04:14:50', 'yyyy/mm/dd:hh24:mi'),2,to_date('2014/05/04:14:35', 'yyyy/mm/dd:hh24:mi'));
insert into otm_voo(codigovoo,codigocompanhia,partidaaeroportoid,chegadaaeroportoid,partidacidade,chegadacidade,partidatempoestimado,chegadatempoestimado,partidatemporeal,chegadatemporeal,terminal,checkininicio,checkinfim,portaembarque,embarque,tapetebagagem,bagagem,portadesembarque,desembarque) values(10004, 'Ryanair', 2, 1, 'Lisboa', 'Porto', to_date('2014/05/04:15:35', 'yyyy/mm/dd:hh24:mi'), to_date('2014/05/04:16:35', 'yyyy/mm/dd:hh24:mi'), to_date('2014/05/04:15:30', 'yyyy/mm/dd:hh24:mi'), to_date('2014/05/04:16:30', 'yyyy/mm/dd:hh24:mi'),4, to_date('2014/05/04:14:45', 'yyyy/mm/dd:hh24:mi'),to_date('2014/05/04:14:10', 'yyyy/mm/dd:hh24:mi'),10,to_date('2014/05/04:14:05', 'yyyy/mm/dd:hh24:mi'),7,to_date('2014/05/04:15:50', 'yyyy/mm/dd:hh24:mi'),3,to_date('2014/05/04:15:35', 'yyyy/mm/dd:hh24:mi'));
insert into otm_voo(codigovoo,codigocompanhia,partidaaeroportoid,chegadaaeroportoid,partidacidade,chegadacidade,partidatempoestimado,chegadatempoestimado,partidatemporeal,chegadatemporeal,terminal,checkininicio,checkinfim,portaembarque,embarque,tapetebagagem,bagagem,portadesembarque,desembarque) values(10005, 'TAP', 3, 1, 'Madrid', 'Porto', to_date('2014/05/04:14:35', 'yyyy/mm/dd:hh24:mi'), to_date('2014/05/04:15:35', 'yyyy/mm/dd:hh24:mi'), to_date('2014/05/04:14:30', 'yyyy/mm/dd:hh24:mi'), to_date('2014/05/04:15:30', 'yyyy/mm/dd:hh24:mi'),3, to_date('2014/05/04:14:45', 'yyyy/mm/dd:hh24:mi'),to_date('2014/05/04:14:10', 'yyyy/mm/dd:hh24:mi'),6,to_date('2014/05/04:14:05', 'yyyy/mm/dd:hh24:mi'),2,to_date('2014/05/04:15:50', 'yyyy/mm/dd:hh24:mi'),12,to_date('2014/05/04:15:35', 'yyyy/mm/dd:hh24:mi'));
insert into otm_voo(codigovoo,codigocompanhia,partidaaeroportoid,chegadaaeroportoid,partidacidade,chegadacidade,partidatempoestimado,chegadatempoestimado,partidatemporeal,chegadatemporeal,terminal,checkininicio,checkinfim,portaembarque,embarque,tapetebagagem,bagagem,portadesembarque,desembarque) values(10006, 'TAP', 3, 1, 'Madrid', 'Porto', to_date('2014/05/04:15:35', 'yyyy/mm/dd:hh24:mi'), to_date('2014/05/04:16:35', 'yyyy/mm/dd:hh24:mi'), to_date('2014/05/04:15:30', 'yyyy/mm/dd:hh24:mi'), to_date('2014/05/04:16:30', 'yyyy/mm/dd:hh24:mi'),1, to_date('2014/05/04:15:45', 'yyyy/mm/dd:hh24:mi'),to_date('2014/05/04:15:10', 'yyyy/mm/dd:hh24:mi'),4,to_date('2014/05/04:15:05', 'yyyy/mm/dd:hh24:mi'),1,to_date('2014/05/04:16:50', 'yyyy/mm/dd:hh24:mi'),9,to_date('2014/05/04:16:35', 'yyyy/mm/dd:hh24:mi'));
insert into otm_voo(codigovoo,codigocompanhia,partidaaeroportoid,chegadaaeroportoid,partidacidade,chegadacidade,partidatempoestimado,chegadatempoestimado,partidatemporeal,chegadatemporeal,terminal,checkininicio,checkinfim,portaembarque,embarque,tapetebagagem,bagagem,portadesembarque,desembarque) values(10007, 'Ryanair', 2, 3, 'Lisboa', 'Madrid', to_date('2014/05/04:20:35', 'yyyy/mm/dd:hh24:mi'), to_date('2014/05/04:22:45', 'yyyy/mm/dd:hh24:mi'), to_date('2014/05/04:20:45', 'yyyy/mm/dd:hh24:mi'), to_date('2014/05/04:22:40', 'yyyy/mm/dd:hh24:mi'),4, to_date('2014/05/04:19:45', 'yyyy/mm/dd:hh24:mi'),to_date('2014/05/04:20:25', 'yyyy/mm/dd:hh24:mi'),1,to_date('2014/05/04:20:20', 'yyyy/mm/dd:hh24:mi'),3,to_date('2014/05/04:15:50', 'yyyy/mm/dd:hh24:mi'),3,to_date('2014/05/04:15:35', 'yyyy/mm/dd:hh24:mi'));
insert into otm_voo(codigovoo,codigocompanhia,partidaaeroportoid,chegadaaeroportoid,partidacidade,chegadacidade,partidatempoestimado,chegadatempoestimado,partidatemporeal,chegadatemporeal,terminal,checkininicio,checkinfim,portaembarque,embarque,tapetebagagem,bagagem,portadesembarque,desembarque) values(10008, 'Ryanair', 1, 3, 'Porto', 'Madrid', to_date('2014/05/04:20:50','yyyy/mm/dd:hh24:mi'), to_date('2014/05/04:23:05','yyyy/mm/dd:hh24:mi'), to_date('2014/05/04:20:50','yyyy/mm/dd:hh24:mi'), to_date('2014/05/04:23:10','yyyy/mm/dd:hh24:mi'),5, to_date('2014/05/04:20:00','yyyy/mm/dd:hh24:mi'), to_date('2014/05/04:20:40','yyyy/mm/dd:hh24:mi'), 3,to_date('2014/05/04:20:40','yyyy/mm/dd:hh24:mi'),3,to_date('2014/05/04:23:20','yyyy/mm/dd:hh24:mi'), 4, to_date('2014/05/04:23:15','yyyy/mm/dd:hh24:mi'));


--Servicos

insert into otm_servico(idaeroporto,nome,titulo,website,descricao) values(1,'taxis','Táxis','http://www.taxisporto.com','Táxis do Porto');
insert into otm_servico_telefone(idservico,contacto) values(1,351220997336);
insert into otm_servico_telefone(idservico,contacto) values(1,351918888600);
insert into otm_servico_telefone(idservico,contacto) values(1,351965886532);
insert into otm_servico_telefone(idservico,contacto) values(1,351933544838);
insert into otm_mapa(idservico,localizacao,url) values(1,'Chegadas','http://i.imgur.com/BEtZ2FX.png');

insert into otm_servico(idaeroporto,nome,titulo) values(1,'mapa','Mapa do Aeroporto');
insert into otm_mapa(idservico,localizacao,url) values(2,'Chegadas','http://i.imgur.com/w0xpFJY.png');
insert into otm_mapa(idservico,localizacao,url) values(2,'Partidas','http://i.imgur.com/4U9zchG.png');
insert into otm_mapa(idservico,localizacao,url) values(2,'Embarque','http://i.imgur.com/K8XZxl3.png');

insert into otm_servico(idaeroporto,nome,titulo) values(1,'restaurantes','Restaurantes');
insert into otm_mapa(idservico,localizacao,url) values(3,'Chegadas','http://i.imgur.com/7uQq6wK.png');

insert into otm_servico(idaeroporto,nome,titulo) values(1,'wc','WC');
insert into otm_mapa(idservico,localizacao,url) values(4,'Chegadas','http://i.imgur.com/ZMrXTpY.png');
insert into otm_mapa(idservico,localizacao,url) values(4,'Partidas','http://i.imgur.com/QgDX3FR.png');
insert into otm_mapa(idservico,localizacao,url) values(4,'Embarque','http://i.imgur.com/0nzCjLi.png');

insert into otm_servico(idaeroporto,nome,titulo) values(1,'fumadores','Zona de Fumadores');
insert into otm_mapa(idservico,localizacao,url) values(5,'Chegadas','http://i.imgur.com/ZmYT6h5.png');

insert into otm_servico(idaeroporto,nome,titulo) values(1,'apoio','Apoio ao Cliente');
insert into otm_mapa(idservico,localizacao,url) values(6,'Chegadas','http://i.imgur.com/S5w0jG0.png');
insert into otm_mapa(idservico,localizacao,url) values(6,'Partidas','http://i.imgur.com/AVivUmE.png');
insert into otm_mapa(idservico,localizacao,url) values(6,'Embarque','http://i.imgur.com/lb4eoB8.png');

insert into otm_servico(idaeroporto,nome,titulo) values(1,'parking','Parking');

insert into otm_servico(idaeroporto,nome,titulo,webmail) values(1,'aeroporto','Contactos Aeroporto','flyopo@ana.pt');
insert into otm_servico_telefone(idservico,contacto) values(8,351229432400);

insert into otm_servico(idaeroporto,nome,titulo) values(1,'perdidosachados','Perdidos e Achados');
insert into otm_mapa(idservico,localizacao,url) values(9,'Chegadas','http://i.imgur.com/JpXor4h.png');
insert into otm_mapa(idservico,localizacao,url) values(9,'Partidas','http://i.imgur.com/IfCkAim.png');
insert into otm_mapa(idservico,localizacao,url) values(9,'Embarque','http://i.imgur.com/y17S4Cp.png');

insert into otm_servico(idaeroporto,nome,titulo) values(1,'postosocorro','Posto de Socorro');
insert into otm_mapa(idservico,localizacao,url) values(10,'Chegadas','http://i.imgur.com/L6UjnMb.png');
insert into otm_mapa(idservico,localizacao,url) values(10,'Partidas','http://i.imgur.com/coPDKsw.png');
insert into otm_mapa(idservico,localizacao,url) values(10,'Embarque','http://i.imgur.com/dBGMC2w.png');

--Lojas

insert into otm_loja(idaeroporto,categoria,nome,imagemurl,mapaurl,webmail,website,telefone,descricao,compromocao) values(1,'roupa','Adolfo Dominguez','http://skin.adolfodominguez.com/skin/frontend/enterprise/adolfodominguez/images/adolfo-dominguez.png','http://i.imgur.com/aXXRJMw.png','contact@adolfodominguez.com','http://www.adolfodominguez.com/en-po/',34902333717,'Horário: 7h00 às 22h00',0);
insert into otm_loja(idaeroporto,categoria,nome,imagemurl,mapaurl,webmail,website,telefone,descricao,compromocao,promocao) values(1,'relogios','Boutique dos Relógios','http://www.boutiquedosrelogios.pt/cache/1000098.png','http://i.imgur.com/Bm5gMxP.png','info@boutiquedosrelogios.pt','http://www.boutiquedosrelogios.pt',351218311243,'Horário: 7h00 às 22h00',1,'Desconto de 5% em todos os relógios');
insert into otm_loja(idaeroporto,categoria,nome,imagemurl,mapaurl,webmail,website,telefone,descricao,compromocao) values(1,'roupa','Bimba Y Lola','http://www.bimbaylola.com/img/logo_portada.jpg','http://i.imgur.com/3EAaEWt.png','contacto@bimbaylola.com','http://www.bimbaylola.com/',34986288401,'Horário: 7h00 às 22h00',0);
insert into otm_loja(idaeroporto,categoria,nome,imagemurl,mapaurl,webmail,website,telefone,descricao,compromocao) values(1,'perfumes','Carolina Herrera','http://www.a-ora.com/apps/wbb2/clientes/hoykuRdVwL/24.jpg','http://i.imgur.com/BTaWB35.png','contacto@carolinaherrera.com','http://www.carolinaherrera.com/ch/pt/',34957241123,'Horário: 7h00 às 22h00',0);
insert into otm_loja(idaeroporto,categoria,nome,imagemurl,mapaurl,webmail,website,telefone,descricao,compromocao,promocao) values(1,'roupaperfumesrelogios','El Corte Ingles','https://lh3.googleusercontent.com/--xhkCDXu_ak/UTmripLaR2I/AAAAAAAAEkE/lj1LL5ZhpEg/s250-no/covergoogle_ECI2.jpg','http://i.imgur.com/etLeW2n.png','servico_clientes@elcorteingles.pt','http://www.elcorteingles.pt/',351223781400,'Horário: 7h00 às 22h00',1,'5% desconto directo em todos os telemóveis livres');
insert into otm_loja(idaeroporto,categoria,nome,imagemurl,mapaurl,webmail,website,telefone,descricao,compromocao) values(1,'joias','Pandora','http://www.hermanhiss.net/wp-content/uploads/2013/04/Pandora-Logo.jpg','http://i.imgur.com/IxmLhmN.png','geral@visaodotempo.pt','http://www.pandora.net/pt-pt',351214257200,'Horário: 8h00 às 21h00',0);
insert into otm_loja(idaeroporto,categoria,nome,imagemurl,mapaurl,webmail,website,telefone,descricao,compromocao) values(1,'acessorios','Parfois','http://www.parfois.com/sysimages/logo.png','http://i.imgur.com/MVuaNPP.png','mail@parfois.com','http://www.parfois.com',351220900800,'Horário: 7h00 às 22h00',0);


--select * from otm_aeroporto;
--select * from otm_voo;
--select * from otm_taxi where idaeroporto = 1;
--select * from otm_taxi_contacto where idtaxi = 1;
--select * from otm_servico where nome = 'restaurante';
--select * from otm_mapa where idservico = 1;
--select * from otm_servico where nome = 'taxis' and idaeroporto = 1;
--select * from otm_mapa where idservico = 1;

select * from otm_servico;